// var yaxis = 0;
// var xaxis = 0;

// document.addEventListener('keydown', function(event) {
//     var rocket = document.getElementById('rocket');
//     if(event.key === 'ArrowRight') {
//         rocket.style.right = xaxis + 10 + 'px';
//     }
//     else if(event.key === 'ArrowLeft') {
//         rocket.style.left = 
//     }
// });


// // Get the computed style of the rocket
// const rocketLeft = window.getComputedStyle(rocket).left;
// console.log(rocketLeft)
// // Get the width of the container
// const containerWidth = document.getElementById('r-container').clientWidth;
// console.log(conatainerWidth)

// // Calculate the right boundary value (100% - 100px)
// const boundary = containerWidth - 100;

// // Convert rocketLeft to a number
// const rocketLeftValue = parseFloat(rocketLeft);

// // Check if rocketLeft is greater than the boundary
// if (rocketLeftValue > boundary) {
//     console.log('Rocket is beyond the boundary.');
// } else {
//     console.log('Rocket is within the boundary.');
// }



// const rocket = document.getElementById('rocket');
// let xaxis = parseFloat(window.getComputedStyle(rocket).left);
// let yaxis = parseFloat(window.getComputedStyle(rocket).top);
// const rocketcontainer = document.getElementById('r-container');
// const rocketWidth = rocket.clientWidth;
// const rocketHeight = rocket.clientHeight;
// const containerWidth = rocketcontainer.clientWidth;
// const containerHeight = rocketcontainer.clientHeight;

// const boundaryX = containerWidth - rocketWidth; // Right boundary
// const boundaryY = containerHeight - rocketHeight; // Bottom boundary

// document.addEventListener('keydown', function(e) {
//     switch (e.key) {
//         case 'ArrowRight':
//             xaxis += 10;
//             if (xaxis > boundaryX) {
//                 xaxis = boundaryX; // Set to boundary if exceeding
//             }
//             rocket.style.left = xaxis + 'px';
//             break;

//         case 'ArrowLeft':
//             xaxis -= 10;
//             if (xaxis < 0) {
//                 xaxis = 0; // Set to 0 if going beyond left boundary
//             }
//             rocket.style.left = xaxis + 'px';
//             break;

//         case 'ArrowDown':
//             yaxis += 10;
//             if (yaxis > boundaryY) {
//                 yaxis = boundaryY; // Set to boundary if exceeding
//             }
//             rocket.style.top = yaxis + 'px';
//             break;

//         case 'ArrowUp':
//             yaxis -= 10;
//             if (yaxis < 0) {
//                 yaxis = 0; // Set to 0 if going beyond top boundary
//             }
//             rocket.style.top = yaxis + 'px';
//             break;

//         default:
//             break;
//     }
// });

// let xaxis = 0;

// const rocket = document.getElementById('rocket');
// const containerRocket = document.getElementById('r-container');
// const rocketWidth = rocket.offsetWidth;

// // Function to update rocket position
// function updateRocketPosition() {
//     rocket.style.left = xaxis + 'px';
// }

// // Initialize the rocket's starting position
// updateRocketPosition();

// document.addEventListener('keydown', function(e) {
//     const containerWidth = containerRocket.clientWidth;

//     if (e.key === 'ArrowRight') {
//         // Move right if the rocket + its width is within container width
//         if (xaxis + rocketWidth < containerWidth) {
//             xaxis += 10;
//             updateRocketPosition();
//         }
//     }
//     else if (e.key === 'ArrowLeft') {
//         // Move left if the rocket is not beyond the left edge
//         if (xaxis > 0) {
//             xaxis -= 10;
//             updateRocketPosition();
//         }
//     }
// });



// Initialize variables
const rocket = document.getElementById('rocket');
const chContainer = document.getElementById('ch-container');
const main = document.querySelector('.main');
let chickens = [];
let score = 0;

// Rocket movement logic
document.addEventListener('keydown', function(e) {
    const rocketRect = rocket.getBoundingClientRect();
    if (e.key === 'ArrowLeft' && rocketRect.left > 0) {
        rocket.style.left = rocketRect.left - 20 + 'px';
    }
    if (e.key === 'ArrowRight' && rocketRect.right < window.innerWidth) {
        rocket.style.left = rocketRect.left + 20 + 'px';
    }
    if (e.key === ' ') {
        fireBullet();
    }
});

// Function to fire bullets
function fireBullet() {
    const bullet = document.createElement('img');
    bullet.src = './images/Bullet.png';
    bullet.classList.add('bullet');
    const rocketRect = rocket.getBoundingClientRect();
    bullet.style.left = rocketRect.left + rocketRect.width / 2 - 12.5 + 'px';
    bullet.style.top = rocketRect.top - 25 + 'px';
    document.body.appendChild(bullet);

    let bulletInterval = setInterval(function() {
        let bulletTop = parseFloat(window.getComputedStyle(bullet).top);
        bulletTop -= 10;
        bullet.style.top = bulletTop + 'px';

        if (bulletTop < 0) {
            clearInterval(bulletInterval);
            bullet.remove();
        }

        // Check for collisions with chickens
        chickens.forEach((chicken, index) => {
            if (checkCollision(bullet, chicken)) {
                chicken.remove();
                chickens.splice(index, 1);
                bullet.remove();
                clearInterval(bulletInterval);
                updateScore();
            }
        });
    }, 50);
}

// Function to spawn chickens
function spawnChickens() {
    for (let i = 0; i < 5; i++) {
        const chicken = document.createElement('img');
        chicken.src = './images/Chicken.png';
        chicken.classList.add('chicken-image');
        chicken.style.position = 'absolute';
        chicken.style.top = '0px';
        chicken.style.left = Math.random() * (window.innerWidth - 70) + 'px';
        chContainer.appendChild(chicken);
        chickens.push(chicken);

        // Make the chickens move down slowly
        let chickenInterval = setInterval(function() {
            let chickenTop = parseFloat(window.getComputedStyle(chicken).top);
            chickenTop += 2; // Move down by 2px
            chicken.style.top = chickenTop + 'px';

            // Remove chicken if it goes off-screen
            if (chickenTop > window.innerHeight) {
                clearInterval(chickenInterval);
                chicken.remove();
                chickens.splice(chickens.indexOf(chicken), 1);
            }
        }, 50);
    }
}

// Check collision between bullet and chicken
function checkCollision(bullet, chicken) {
    const bulletRect = bullet.getBoundingClientRect();
    const chickenRect = chicken.getBoundingClientRect();

    return !(
        bulletRect.right < chickenRect.left ||
        bulletRect.left > chickenRect.right ||
        bulletRect.bottom < chickenRect.top ||
        bulletRect.top > chickenRect.bottom
    );
}

// Update the score
function updateScore() {
    score++;
    const scoreboard = document.getElementById('scoreboard');
    if (!scoreboard) {
        const newScoreboard = document.createElement('div');
        newScoreboard.id = 'scoreboard';
        newScoreboard.style.position = 'absolute';
        newScoreboard.style.top = '10px';
        newScoreboard.style.right = '10px';
        newScoreboard.style.color = 'white';
        newScoreboard.style.fontSize = '24px';
        newScoreboard.innerText = `Score: ${score}`;
        document.body.appendChild(newScoreboard);
    } else {
        scoreboard.innerText = `Score: ${score}`;
    }
}

// Initial chicken spawning and game loop
spawnChickens();
setInterval(spawnChickens, 10000); // Spawn new chickens every 10 seconds
